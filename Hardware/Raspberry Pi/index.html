<!doctype html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta name="description" content="just some random notes" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300&display=swap" rel="stylesheet" />
  <link href="../../style.css" rel="stylesheet" />
  <title>ericmauser - just some random notes</title>
</head>

<body>
  <div class="sidebar">
    <div class="viewport">
      <div class="topbar">
        <a class="title" href="../../">ericmauser</a>
        <span class="description">just some random notes</span>
      </div>
      <div class="navigation"><a href="../../">welcome!</a> » <a href="../">Hardware</a> » <span>Raspberry Pi</span></div>
    </div>
  </div>

  <div class="viewport mainview">
    <div class="directories">
      <a class="back sidelink" href="../">« Back</a>
    </div>
    <div class="page">
      <div class="content"><div id="raspberrypi.md" class="text">
<h1>Raspberry Pi</h1>

<h2>Notes</h2>

<pre><code>About:  http://de.wikipedia.org/wiki/Raspberry_Pi
CPU:    Broadcom BCM 2835 700Mhz ARM1176JZF-S
RAM:    256 MB
</code></pre>

<h2>Sources &amp; Links</h2>

<ul>
    <li><a href="https://github.com/raspberrypi/firmware">firmware + libraries</a></li>
    <li><a href="https://github.com/raspberrypi/linux">kernel</a></li>
    <li><a href="https://github.com/raspberrypi/tools">tools, e.g imagetool-uncompressed.py</a></li>
    <li><a href="http://distfiles.gentoo.org/releases/arm/autobuilds/current-stage3-armv6j_hardfp">stage tarball</a></li>
</ul>

<h2>Partitioning</h2>

<pre><code>mmcblk0p1:
  type: vfat    
  flags: boot

mmcblk0p2 
  type: ext4
  flags: -
</code></pre>

<h2>Boot</h2>

<ul>
    <li>bootcode.bin</li>
    <li>loader.bin</li>
    <li>start.elf</li>
    <li>cmdline.txt: <code>root=/dev/mmcblk0p2 rootdelay=3</code></li>
</ul>

<h2>Kernel</h2>

<pre><code>make ARCH=arm bcmrpi_cutdown_defconfig 
make ARCH=arm CROSS_COMPILE=/usr/bin/armv6j-hardfloat-linux-gnueabi- oldconfig
make ARCH=arm CROSS_COMPILE=/usr/bin/armv6j-hardfloat-linux-gnueabi- menuconfig
make ARCH=arm CROSS_COMPILE=/usr/bin/armv6j-hardfloat-linux-gnueabi- -j5
make ARCH=arm CROSS_COMPILE=/usr/bin/armv6j-hardfloat-linux-gnueabi- INSTALL_MOD_PATH=/path/to/rootfs modules_install

imagetool-uncompressed.py /path/to/kernel/arch/arm/boot/image 
cp kernel.img /boot
</code></pre>

<h2>Gentoo</h2>
<h3>CFLAGS</h3>

<pre><code>CFLAGS="-O2 -march=armv6j -mfpu=vfp -mfloat-abi=hard"
CXXFLAGS="${CFLAGS}"
</code></pre>

<h3>Toolchain</h3>

<pre><code>crossdev -S armv6j-hardfloat-linux-gnueabi
</code></pre>

</div><div class="footer">June 2021 - powered by <a href="https://github.com/shagu/webls">webls</a></div></div>
    </div>
  </div>
</body>

</html>
